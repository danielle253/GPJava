<div id="map">
</div>

<p><button onclick="sortTable()">Sort</button>
	<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name">
</p>
<table id="myTable">
	<tr>
		<th>Car Serial</th>
		<th>Latitude</th>
		<th>Longitude</th>
	</tr>
	<tr th:each="car : ${cars}" class="item" onclick="placeMarker(this)">
		<td th:text="${car.serial}"></td>
		<td th:text="${car.latitude}"></td>
		<td th:text="${car.longitude}"></td>
	</tr>
</table>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC2aVBxSbYBYEkMQlKyKzFfYbzll03GN2E&callback=initMap"></script>
<script type="text/javascript">
	var cit = {lat: 51.88640744, lng: -8.53339883};
	
	function initMap() {
		
		var map = new google.maps.Map(
		document.getElementById('map'), {zoom: 15, center: cit});
		//var marker = new google.maps.Marker({position: cit, map: map});
	}
	
	function placeMarker(element){
		var longitude = parseFloat($(element).find('td').eq(1).text());
		var latitude = parseFloat($(element).find('td').eq(2).text());
		var mark = {lat: longitude, lng: latitude};
		
		var map = new google.maps.Map(
			document.getElementById('map'), 
			{zoom: 15, center: cit});
		
		new google.maps.Marker({position: mark, map: map});
	}
</script>
